(()=>{"use strict";class t{constructor(t,e,n,i){this.title=t,this.description=e,this.dueDate=n,this.priority=i,this.notes=[],this.checklist=[]}}class e{constructor(t){this.title=t,this.items={},this.active=!1}}function n(t){return new e(t)}function i(){return JSON.parse(localStorage.getItem("listCollection"))}function d(t){localStorage.setItem("listCollection",JSON.stringify(t))}const l=document.getElementById("lists-container"),a=document.getElementById("comments-container");function c(t){s(l);for(const[e,n]of Object.entries(t)){let t=document.createElement("button");t.dataset.id=e,t.innerHTML=n.title,1==n.active?(t.dataset.active=!0,m(n)):(t.dataset.active=!1,t.addEventListener("click",(function(t){u(t.target)}))),l.appendChild(t)}}function o(){let t=l.children;for(let e=0;e<t.length;e++){let n=t[e];if("true"==n.dataset.active)return n}}function s(t){for(;t.firstChild;)t.firstChild.remove()}function r(t){let e,n=Object.keys(t);return e=n.length>0?parseInt(n[n.length-1])+1:1,e}function u(t){let e=o(),n=i(),l=n[parseInt(t.dataset.id)],a=n[parseInt(e.dataset.id)];l.active=!0,a.active=!1,n[parseInt(t.dataset.id)]=l,n[parseInt(e.dataset.id)]=a,d(n),c(n)}function m(t){s(a);for(const[e,n]of Object.entries(t.items)){let t=f(e,n);a.appendChild(t)}}function f(t,e){let n=document.createElement("div");n.classList.add("card");let i=document.createElement("div");i.classList.add("card-body");let d=document.createElement("h2");d.classList.add("card-title"),d.innerHTML=e.title;let l=document.createElement("p");return l.classList.add("card-text"),l.innerHTML=e.dueDate,i.appendChild(d),i.appendChild(l),n.appendChild(i),n.dataset.id=t,n}document.getElementById("add-todo").addEventListener("click",(function(){let e=function(){let e=[document.getElementById("title").value,document.getElementById("description").value,document.getElementById("dueDate").value,document.getElementById("priority").value];return new t(e[0],e[1],e[2],e[3])}(),n=o(),l=i(),a=l[n.dataset.id],c=r(a.items);a.items[c]=e,l[n.dataset.id]=a,d(l),m(a),document.getElementById("title").value="",document.getElementById("description").value="",document.getElementById("dueDate").value="",document.getElementById("priority").value="",document.getElementById("collapseExample").toggle})),document.getElementById("add-todolist").addEventListener("click",(function(){let t=n(document.getElementById("list-title").value),e=i();e[r(e)]=t,d(e),c(e)})),window.onload=function(){c(function(){let t;return t=0==localStorage.length?function(){let t={},e=n("Default List");return e.active=!0,t[1]=e,d(t),t}():i(),t}())}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFDSkMsWUFBWUMsRUFBT0MsRUFBYUMsRUFBU0MsR0FDdkNDLEtBQUtKLE1BQVFBLEVBQ2JJLEtBQUtILFlBQWNBLEVBQ25CRyxLQUFLRixRQUFVQSxFQUNmRSxLQUFLRCxTQUFXQSxFQUNoQkMsS0FBS0MsTUFBUSxHQUNiRCxLQUFLRSxVQUFZLElDUHJCLE1BQU1DLEVBQ0pSLFlBQVlDLEdBQ1ZJLEtBQUtKLE1BQVFBLEVBQ2JJLEtBQUtJLE1BQVEsR0FDYkosS0FBS0ssUUFBUyxHQUlILFNBQVNDLEVBQWVWLEdBRXJDLE9BRFcsSUFBSU8sRUFBU1AsR0NUMUIsU0FBU1csSUFFUCxPQURxQkMsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxtQkFJdkQsU0FBU0MsRUFBY0MsR0FDckJILGFBQWFJLFFBQVEsaUJBQWtCTixLQUFLTyxVQUFVRixJQ0Z4RCxNQUFNRyxFQUFZQyxTQUFTQyxlQUFlLG1CQUNwQ0MsRUFBb0JGLFNBQVNDLGVBQWUsc0JBK0NsRCxTQUFTRSxFQUFZUCxHQUNuQlEsRUFBY0wsR0FDZCxJQUFLLE1BQU9NLEVBQUtDLEtBQVVDLE9BQU9DLFFBQVFaLEdBQWlCLENBQ3pELElBQUlhLEVBQVNULFNBQVNVLGNBQWMsVUFDcENELEVBQU9FLFFBQVFDLEdBQUtQLEVBQ3BCSSxFQUFPSSxVQUFZUCxFQUFNM0IsTUFFTCxHQUFoQjJCLEVBQU1sQixRQUNScUIsRUFBT0UsUUFBUXZCLFFBQVMsRUFDeEIwQixFQUFhUixLQUViRyxFQUFPRSxRQUFRdkIsUUFBUyxFQUN4QnFCLEVBQU9NLGlCQUFpQixTQUFTLFNBQVNDLEdBQ3hDQyxFQUFhRCxFQUFFRSxZQUluQm5CLEVBQVVvQixZQUFZVixJQUkxQixTQUFTVyxJQUNQLElBQUlDLEVBQVd0QixFQUFVc0IsU0FDekIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlELEVBQVNFLE9BQVFELElBQUssQ0FDeEMsSUFBSUUsRUFBUUgsRUFBU0MsR0FFckIsR0FBNEIsUUFBeEJFLEVBQU1iLFFBQVF2QixPQUNoQixPQUFPb0MsR0FxQmIsU0FBU3BCLEVBQWNMLEdBQ3JCLEtBQU9BLEVBQVUwQixZQUNmMUIsRUFBVTBCLFdBQVdDLFNBSXpCLFNBQVNDLEVBQU9DLEdBQ2QsSUFFSUMsRUFGQUMsRUFBT3ZCLE9BQU91QixLQUFLRixHQVN2QixPQUxFQyxFQURFQyxFQUFLUCxPQUFTLEVBQ1BRLFNBQVNELEVBQUtBLEVBQUtQLE9BQU8sSUFBTSxFQUVoQyxFQUdKTSxFQUdULFNBQVNaLEVBQWFDLEdBQ3BCLElBQUljLEVBQVVaLElBRVZ4QixFQUFpQk4sSUFDakIyQyxFQUFlckMsRUFBZW1DLFNBQVNiLEVBQU9QLFFBQVFDLEtBQ3REc0IsRUFBVXRDLEVBQWVtQyxTQUFTQyxFQUFRckIsUUFBUUMsS0FDdERxQixFQUFhN0MsUUFBUyxFQUN0QjhDLEVBQVE5QyxRQUFTLEVBQ2pCUSxFQUFlbUMsU0FBU2IsRUFBT1AsUUFBUUMsS0FBT3FCLEVBQzlDckMsRUFBZW1DLFNBQVNDLEVBQVFyQixRQUFRQyxLQUFPc0IsRUFDL0N2QyxFQUFjQyxHQUNkTyxFQUFZUCxHQUdkLFNBQVNrQixFQUFhYyxHQUNwQnhCLEVBQWNGLEdBRWQsSUFBSyxNQUFPRyxFQUFLQyxLQUFVQyxPQUFPQyxRQUFRb0IsRUFBS3pDLE9BQVEsQ0FDckQsSUFBSWdELEVBQU9DLEVBQVUvQixFQUFLQyxHQUMxQkosRUFBa0JpQixZQUFZZ0IsSUFJbEMsU0FBU0MsRUFBVS9CLEVBQUtDLEdBQ3RCLElBQUk2QixFQUFPbkMsU0FBU1UsY0FBYyxPQUNsQ3lCLEVBQUtFLFVBQVVDLElBQUksUUFFbkIsSUFBSUMsRUFBV3ZDLFNBQVNVLGNBQWMsT0FDdEM2QixFQUFTRixVQUFVQyxJQUFJLGFBRXZCLElBQUlFLEVBQVd4QyxTQUFTVSxjQUFjLE1BQ3RDOEIsRUFBU0gsVUFBVUMsSUFBSSxjQUN2QkUsRUFBUzNCLFVBQVlQLEVBQU0zQixNQUUzQixJQUFJOEQsRUFBV3pDLFNBQVNVLGNBQWMsS0FXdEMsT0FWQStCLEVBQVNKLFVBQVVDLElBQUksYUFDdkJHLEVBQVM1QixVQUFZUCxFQUFNekIsUUFFM0IwRCxFQUFTcEIsWUFBWXFCLEdBQ3JCRCxFQUFTcEIsWUFBWXNCLEdBRXJCTixFQUFLaEIsWUFBWW9CLEdBRWpCSixFQUFLeEIsUUFBUUMsR0FBS1AsRUFFWDhCLEVBN0pUbkMsU0FBU0MsZUFBZSxZQUFZYyxpQkFBaUIsU0FBUyxXQUM1RCxJQUFJMkIsRUhHUyxXQUNiLElBQUlDLEVBaUJHLENBTEszQyxTQUFTQyxlQUFlLFNBQVNLLE1BQzNCTixTQUFTQyxlQUFlLGVBQWVLLE1BQzNDTixTQUFTQyxlQUFlLFdBQVdLLE1BQ2xDTixTQUFTQyxlQUFlLFlBQVlLLE9BUG5ELE9BRFcsSUFBSTdCLEVBTEhrRSxFQUFLLEdBQ0NBLEVBQUssR0FDVEEsRUFBSyxHQUNKQSxFQUFLLElHVFRDLEdBQ1BDLEVBQWdCekIsSUFFaEJ4QixFQUFpQk4sSUFDakJzQyxFQUFPaEMsRUFBZWlELEVBQWNsQyxRQUFRQyxJQUU1Q1AsRUFBTXNCLEVBQU9DLEVBQUt6QyxPQUN0QnlDLEVBQUt6QyxNQUFNa0IsR0FBT3FDLEVBRWxCOUMsRUFBZWlELEVBQWNsQyxRQUFRQyxJQUFNZ0IsRUFDM0NqQyxFQUFjQyxHQUVka0IsRUFBYWMsR0FvSmI1QixTQUFTQyxlQUFlLFNBQVNLLE1BQVEsR0FDekNOLFNBQVNDLGVBQWUsZUFBZUssTUFBUSxHQUMvQ04sU0FBU0MsZUFBZSxXQUFXSyxNQUFRLEdBQzNDTixTQUFTQyxlQUFlLFlBQVlLLE1BQVEsR0FFNUNOLFNBQVNDLGVBQWUsbUJBQW1CNkMsVUFySjdDOUMsU0FBU0MsZUFBZSxnQkFBZ0JjLGlCQUFpQixTQUFTLFdBQ2hFLElBQ0lnQyxFQUFVMUQsRUFzRUZXLFNBQVNDLGVBQWUsY0FBY0ssT0FyRTlDVixFQUFpQk4sSUFHckJNLEVBRlUrQixFQUFPL0IsSUFFS21ELEVBQ3RCcEQsRUFBY0MsR0FDZE8sRUFBWVAsTUFJZG9ELE9BQU9DLE9BQVMsV0FFZDlDLEVBOENGLFdBQ0UsSUFBSVAsRUFPSixPQUpFQSxFQUR5QixHQUF2QkgsYUFBYThCLE9BOUNuQixXQUNFLElBQUkzQixFQUFpQixHQUNqQmdDLEVBQU92QyxFQUFlLGdCQU0xQixPQUxBdUMsRUFBS3hDLFFBQVMsRUFFZFEsRUFBZSxHQUFLZ0MsRUFDcEJqQyxFQUFjQyxHQUVQQSxFQXVDWXNELEdBRUE1RCxJQUVaTSxFQXZEY3VELE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvZG8vLi9zcmMvdG9kby1pdGVtLmpzIiwid2VicGFjazovL29kaW4tdG9kby8uL3NyYy90b2RvLWxpc3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLy4vc3JjL2xvY2FsU3RvcmFnZS5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgdG9kb0l0ZW0ge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLm5vdGVzID0gW107XG4gICAgdGhpcy5jaGVja2xpc3QgPSBbXTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU5ld1RvRG8oKSB7XG4gIGxldCBpbmZvID0gZ2V0VG9kb0luZm8oKTtcblxuICBsZXQgdGl0bGUgPSBpbmZvWzBdLFxuICAgICAgZGVzY3JpcHRpb24gPSBpbmZvWzFdLCBcbiAgICAgIGR1ZURhdGUgPSBpbmZvWzJdLCBcbiAgICAgIHByaW9yaXR5ID0gaW5mb1szXTtcblxuICBsZXQgdG9kbyA9IG5ldyB0b2RvSXRlbSh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KTtcbiAgcmV0dXJuIHRvZG87XG59O1xuXG5mdW5jdGlvbiBnZXRUb2RvSW5mbygpIHtcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZVwiKS52YWx1ZTtcbiAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgbGV0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZURhdGVcIikudmFsdWU7XG4gIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlcIikudmFsdWU7XG5cbiAgcmV0dXJuIFtcbiAgICB0aXRsZSwgXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZHVlRGF0ZSxcbiAgICBwcmlvcml0eVxuICBdO1xufTtcblxuIiwiY2xhc3MgdG9kb0xpc3Qge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLml0ZW1zID0ge307XG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVRvRG9MaXN0KHRpdGxlKSB7XG4gIGxldCBsaXN0ID0gbmV3IHRvZG9MaXN0KHRpdGxlKTtcbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG4iLCJmdW5jdGlvbiBsb2FkRnJvbVN0b3JhZ2UoKSB7XG4gIGxldCBsaXN0Q29sbGVjdGlvbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsaXN0Q29sbGVjdGlvblwiKSk7XG4gIHJldHVybiBsaXN0Q29sbGVjdGlvbjtcbn07XG5cbmZ1bmN0aW9uIHNhdmVUb1N0b3JhZ2UobGlzdENvbGxlY3Rpb24pIHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsaXN0Q29sbGVjdGlvblwiLCBKU09OLnN0cmluZ2lmeShsaXN0Q29sbGVjdGlvbikpO1xufTtcblxuZXhwb3J0IHsgbG9hZEZyb21TdG9yYWdlLCBzYXZlVG9TdG9yYWdlIH0iLCJpbXBvcnQgY3JlYXRlTmV3VG9EbyBmcm9tIFwiLi90b2RvLWl0ZW1cIjtcbmltcG9ydCBjcmVhdGVUb0RvTGlzdCBmcm9tIFwiLi90b2RvLWxpc3RcIjtcbmltcG9ydCB7IHNhdmVUb1N0b3JhZ2UsIGxvYWRGcm9tU3RvcmFnZSB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpc3RzLWNvbnRhaW5lclwiKTtcbmNvbnN0IGNvbW1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21tZW50cy1jb250YWluZXJcIik7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLXRvZG9cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdG9kbyA9IGNyZWF0ZU5ld1RvRG8oKTtcbiAgbGV0IGFjdGl2ZUxpc3REb20gPSBnZXRBY3RpdmVMaXN0KCk7XG5cbiAgbGV0IGxpc3RDb2xsZWN0aW9uID0gbG9hZEZyb21TdG9yYWdlKCk7XG4gIGxldCBsaXN0ID0gbGlzdENvbGxlY3Rpb25bYWN0aXZlTGlzdERvbS5kYXRhc2V0LmlkXVxuXG4gIGxldCBrZXkgPSBnZXRLZXkobGlzdC5pdGVtcyk7XG4gIGxpc3QuaXRlbXNba2V5XSA9IHRvZG87XG5cbiAgbGlzdENvbGxlY3Rpb25bYWN0aXZlTGlzdERvbS5kYXRhc2V0LmlkXSA9IGxpc3Q7XG4gIHNhdmVUb1N0b3JhZ2UobGlzdENvbGxlY3Rpb24pO1xuXG4gIGRpc3BsYXlUb0RvcyhsaXN0KTtcbiAgcmVzZXRDb21tZW50Rm9ybSgpO1xufSk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkLXRvZG9saXN0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRpdGxlID0gZ2V0VG9kb0xpc3RJbmZvKCk7XG4gIGxldCBuZXdMaXN0ID0gY3JlYXRlVG9Eb0xpc3QodGl0bGUpO1xuICBsZXQgbGlzdENvbGxlY3Rpb24gPSBsb2FkRnJvbVN0b3JhZ2UoKTtcbiAgbGV0IGtleSA9IGdldEtleShsaXN0Q29sbGVjdGlvbik7XG5cbiAgbGlzdENvbGxlY3Rpb25ba2V5XSA9IG5ld0xpc3Q7XG4gIHNhdmVUb1N0b3JhZ2UobGlzdENvbGxlY3Rpb24pO1xuICBkaXNwbGF5TGlzdChsaXN0Q29sbGVjdGlvbik7XG5cbn0pXG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgbGV0IGxpc3RDb2xsZWN0aW9uID0gY2hlY2tMb2NhbEZvckVtcHR5KCk7XG4gIGRpc3BsYXlMaXN0KGxpc3RDb2xsZWN0aW9uKTtcbn07IFxuXG5mdW5jdGlvbiBpbml0aWFsaXplUGFnZSgpIHtcbiAgbGV0IGxpc3RDb2xsZWN0aW9uID0ge307XG4gIGxldCBsaXN0ID0gY3JlYXRlVG9Eb0xpc3QoXCJEZWZhdWx0IExpc3RcIik7XG4gIGxpc3QuYWN0aXZlID0gdHJ1ZTtcblxuICBsaXN0Q29sbGVjdGlvblsxXSA9IGxpc3Q7XG4gIHNhdmVUb1N0b3JhZ2UobGlzdENvbGxlY3Rpb24pO1xuXG4gIHJldHVybiBsaXN0Q29sbGVjdGlvbjtcbn07XG5cbmZ1bmN0aW9uIGRpc3BsYXlMaXN0KGxpc3RDb2xsZWN0aW9uKSB7XG4gIHdpcGVDb250YWluZXIoY29udGFpbmVyKTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobGlzdENvbGxlY3Rpb24pKSB7XG4gICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnV0dG9uLmRhdGFzZXQuaWQgPSBrZXk7XG4gICAgYnV0dG9uLmlubmVySFRNTCA9IHZhbHVlLnRpdGxlO1xuICBcbiAgICBpZiAodmFsdWUuYWN0aXZlID09IHRydWUpIHtcbiAgICAgIGJ1dHRvbi5kYXRhc2V0LmFjdGl2ZSA9IHRydWU7XG4gICAgICBkaXNwbGF5VG9Eb3ModmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b24uZGF0YXNldC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBjaGFuZ2VBY3RpdmUoZS50YXJnZXQpO1xuICAgICAgfSlcbiAgICB9O1xuICBcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUxpc3QoKSB7XG4gIGxldCBjaGlsZHJlbiA9IGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgaWYgKGNoaWxkLmRhdGFzZXQuYWN0aXZlID09IFwidHJ1ZVwiKSB7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGNoZWNrTG9jYWxGb3JFbXB0eSAoKSB7XG4gIGxldCBsaXN0Q29sbGVjdGlvbjtcblxuICBpZiAobG9jYWxTdG9yYWdlLmxlbmd0aCA9PSAwKSB7XG4gICAgbGlzdENvbGxlY3Rpb24gPSBpbml0aWFsaXplUGFnZSgpO1xuICB9IGVsc2Uge1xuICAgIGxpc3RDb2xsZWN0aW9uID0gbG9hZEZyb21TdG9yYWdlKCk7XG4gIH07XG4gIHJldHVybiBsaXN0Q29sbGVjdGlvbjtcbn07XG5cbmZ1bmN0aW9uIGdldFRvZG9MaXN0SW5mbygpIHtcbiAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXN0LXRpdGxlXCIpLnZhbHVlO1xuICByZXR1cm4gdGl0bGU7XG59O1xuXG5mdW5jdGlvbiB3aXBlQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICBjb250YWluZXIuZmlyc3RDaGlsZC5yZW1vdmUoKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEtleShsaXN0KSB7XG4gIGxldCBrZXlzID0gT2JqZWN0LmtleXMobGlzdCk7XG5cbiAgbGV0IG5ld0tleTtcbiAgaWYgKGtleXMubGVuZ3RoID4gMCkge1xuICAgIG5ld0tleSA9IHBhcnNlSW50KGtleXNba2V5cy5sZW5ndGgtMV0pICsgMTtcbiAgfSBlbHNlIHtcbiAgICBuZXdLZXkgPSAxO1xuICB9XG5cbiAgcmV0dXJuIG5ld0tleTtcbn07XG5cbmZ1bmN0aW9uIGNoYW5nZUFjdGl2ZSh0YXJnZXQpIHtcbiAgbGV0IGN1cnJlbnQgPSBnZXRBY3RpdmVMaXN0KCk7XG4gIFxuICBsZXQgbGlzdENvbGxlY3Rpb24gPSBsb2FkRnJvbVN0b3JhZ2UoKTtcbiAgbGV0IGNoYW5naW5nTGlzdCA9IGxpc3RDb2xsZWN0aW9uW3BhcnNlSW50KHRhcmdldC5kYXRhc2V0LmlkKV07XG4gIGxldCBvbGRMaXN0ID0gbGlzdENvbGxlY3Rpb25bcGFyc2VJbnQoY3VycmVudC5kYXRhc2V0LmlkKV07XG4gIGNoYW5naW5nTGlzdC5hY3RpdmUgPSB0cnVlO1xuICBvbGRMaXN0LmFjdGl2ZSA9IGZhbHNlO1xuICBsaXN0Q29sbGVjdGlvbltwYXJzZUludCh0YXJnZXQuZGF0YXNldC5pZCldID0gY2hhbmdpbmdMaXN0O1xuICBsaXN0Q29sbGVjdGlvbltwYXJzZUludChjdXJyZW50LmRhdGFzZXQuaWQpXSA9IG9sZExpc3Q7XG4gIHNhdmVUb1N0b3JhZ2UobGlzdENvbGxlY3Rpb24pO1xuICBkaXNwbGF5TGlzdChsaXN0Q29sbGVjdGlvbik7XG59O1xuXG5mdW5jdGlvbiBkaXNwbGF5VG9Eb3MobGlzdCkge1xuICB3aXBlQ29udGFpbmVyKGNvbW1lbnRzQ29udGFpbmVyKTtcblxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhsaXN0Lml0ZW1zKSkge1xuICAgIGxldCBjYXJkID0gYnVpbGRDYXJkKGtleSwgdmFsdWUpO1xuICAgIGNvbW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhcmQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZENhcmQoa2V5LCB2YWx1ZSkge1xuICBsZXQgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNhcmQuY2xhc3NMaXN0LmFkZChcImNhcmRcIik7XG5cbiAgbGV0IGNhcmRCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY2FyZEJvZHkuY2xhc3NMaXN0LmFkZChcImNhcmQtYm9keVwiKTtcblxuICBsZXQgY2FyZEhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gIGNhcmRIZWFkLmNsYXNzTGlzdC5hZGQoXCJjYXJkLXRpdGxlXCIpO1xuICBjYXJkSGVhZC5pbm5lckhUTUwgPSB2YWx1ZS50aXRsZTtcblxuICBsZXQgY2FyZERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgY2FyZERhdGUuY2xhc3NMaXN0LmFkZChcImNhcmQtdGV4dFwiKTtcbiAgY2FyZERhdGUuaW5uZXJIVE1MID0gdmFsdWUuZHVlRGF0ZTtcblxuICBjYXJkQm9keS5hcHBlbmRDaGlsZChjYXJkSGVhZCk7XG4gIGNhcmRCb2R5LmFwcGVuZENoaWxkKGNhcmREYXRlKTtcblxuICBjYXJkLmFwcGVuZENoaWxkKGNhcmRCb2R5KTtcblxuICBjYXJkLmRhdGFzZXQuaWQgPSBrZXk7XG5cbiAgcmV0dXJuIGNhcmQ7XG59O1xuXG5mdW5jdGlvbiByZXNldENvbW1lbnRGb3JtKCkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlID0gXCJcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZSA9IFwiXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHVlRGF0ZVwiKS52YWx1ZSA9IFwiXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlcIikudmFsdWUgPSBcIlwiO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sbGFwc2VFeGFtcGxlXCIpLnRvZ2dsZTtcbn0iXSwibmFtZXMiOlsidG9kb0l0ZW0iLCJjb25zdHJ1Y3RvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJ0aGlzIiwibm90ZXMiLCJjaGVja2xpc3QiLCJ0b2RvTGlzdCIsIml0ZW1zIiwiYWN0aXZlIiwiY3JlYXRlVG9Eb0xpc3QiLCJsb2FkRnJvbVN0b3JhZ2UiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2F2ZVRvU3RvcmFnZSIsImxpc3RDb2xsZWN0aW9uIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb21tZW50c0NvbnRhaW5lciIsImRpc3BsYXlMaXN0Iiwid2lwZUNvbnRhaW5lciIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsImJ1dHRvbiIsImNyZWF0ZUVsZW1lbnQiLCJkYXRhc2V0IiwiaWQiLCJpbm5lckhUTUwiLCJkaXNwbGF5VG9Eb3MiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNoYW5nZUFjdGl2ZSIsInRhcmdldCIsImFwcGVuZENoaWxkIiwiZ2V0QWN0aXZlTGlzdCIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImNoaWxkIiwiZmlyc3RDaGlsZCIsInJlbW92ZSIsImdldEtleSIsImxpc3QiLCJuZXdLZXkiLCJrZXlzIiwicGFyc2VJbnQiLCJjdXJyZW50IiwiY2hhbmdpbmdMaXN0Iiwib2xkTGlzdCIsImNhcmQiLCJidWlsZENhcmQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjYXJkQm9keSIsImNhcmRIZWFkIiwiY2FyZERhdGUiLCJ0b2RvIiwiaW5mbyIsImNyZWF0ZU5ld1RvRG8iLCJhY3RpdmVMaXN0RG9tIiwidG9nZ2xlIiwibmV3TGlzdCIsIndpbmRvdyIsIm9ubG9hZCIsImluaXRpYWxpemVQYWdlIiwiY2hlY2tMb2NhbEZvckVtcHR5Il0sInNvdXJjZVJvb3QiOiIifQ==